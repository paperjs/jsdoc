<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"> <style>
	.KEYW {color: #933;}
	.COMM {color: #bbb; font-style: italic;}
	.NUMB {color: #393;}
	.STRN {color: #393;}
	.REGX {color: #339;}
	.linenumber {border-right: 1px dotted #666; color: #666; font-style: normal;}
	</style></head><body><pre><span class='linenumber'>  1</span> <span class="WHIT">
<span class='linenumber'>  2</span> </span><span class="COMM">/**
<span class='linenumber'>  3</span> 	@constructor
<span class='linenumber'>  4</span> */</span><span class="WHIT">
<span class='linenumber'>  5</span> </span><span class="NAME">JSDOC.JsPlate</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">templateFile</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>  6</span> 	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">templateFile</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">this.template</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">JSDOC.IO.readFile</span><span class="PUNC">(</span><span class="NAME">templateFile</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>  7</span> 	
<span class='linenumber'>  8</span> 	</span><span class="NAME">this.templateFile</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">templateFile</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>  9</span> 	</span><span class="NAME">this.code</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">""</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 10</span> 	</span><span class="NAME">this.parse</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 11</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 12</span> 
<span class='linenumber'> 13</span> </span><span class="NAME">JSDOC.JsPlate.prototype.parse</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 14</span> 	</span><span class="NAME">this.template</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.template.replace</span><span class="PUNC">(</span><span class="REGX">/\{#[\s\S]+?#\}/gi</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">""</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 15</span> 	</span><span class="NAME">this.code</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"var output=``"</span><span class="PUNC">+</span><span class="NAME">this.template</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 16</span> 
<span class='linenumber'> 17</span> 	</span><span class="NAME">this.code</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.code.replace</span><span class="PUNC">(</span><span class="WHIT">
<span class='linenumber'> 18</span> 		</span><span class="REGX">/&lt;for +each="(.+?)" +in="(.+?)" *>/gi</span><span class="PUNC">,</span><span class="WHIT"> 
<span class='linenumber'> 19</span> 		</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">match</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">eachName</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inName</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 20</span> 			</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="STRN">"``;\rvar $"</span><span class="PUNC">+</span><span class="NAME">eachName</span><span class="PUNC">+</span><span class="STRN">"_keys = keys("</span><span class="PUNC">+</span><span class="NAME">inName</span><span class="PUNC">+</span><span class="STRN">");\rfor(var $"</span><span class="PUNC">+</span><span class="NAME">eachName</span><span class="PUNC">+</span><span class="STRN">"_i = 0; $"</span><span class="PUNC">+</span><span class="NAME">eachName</span><span class="PUNC">+</span><span class="STRN">"_i &lt; $"</span><span class="PUNC">+</span><span class="NAME">eachName</span><span class="PUNC">+</span><span class="STRN">"_keys.length; $"</span><span class="PUNC">+</span><span class="NAME">eachName</span><span class="PUNC">+</span><span class="STRN">"_i++) {\rvar $"</span><span class="PUNC">+</span><span class="NAME">eachName</span><span class="PUNC">+</span><span class="STRN">"_last = ($"</span><span class="PUNC">+</span><span class="NAME">eachName</span><span class="PUNC">+</span><span class="STRN">"_i == $"</span><span class="PUNC">+</span><span class="NAME">eachName</span><span class="PUNC">+</span><span class="STRN">"_keys.length-1);\rvar $"</span><span class="PUNC">+</span><span class="NAME">eachName</span><span class="PUNC">+</span><span class="STRN">"_key = $"</span><span class="PUNC">+</span><span class="NAME">eachName</span><span class="PUNC">+</span><span class="STRN">"_keys[$"</span><span class="PUNC">+</span><span class="NAME">eachName</span><span class="PUNC">+</span><span class="STRN">"_i];\rvar "</span><span class="PUNC">+</span><span class="NAME">eachName</span><span class="PUNC">+</span><span class="STRN">" = "</span><span class="PUNC">+</span><span class="NAME">inName</span><span class="PUNC">+</span><span class="STRN">"[$"</span><span class="PUNC">+</span><span class="NAME">eachName</span><span class="PUNC">+</span><span class="STRN">"_key];\routput+=``"</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 21</span> 		</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 22</span> 	</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	
<span class='linenumber'> 23</span> 	</span><span class="NAME">this.code</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.code.replace</span><span class="PUNC">(</span><span class="REGX">/&lt;if test="(.+?)">/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"``;\rif ($1) { output+=``"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 24</span> 	</span><span class="NAME">this.code</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.code.replace</span><span class="PUNC">(</span><span class="REGX">/&lt;\/(if|for)>/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"``;\r};\routput+=``"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 25</span> 	</span><span class="NAME">this.code</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.code.replace</span><span class="PUNC">(</span><span class="WHIT">
<span class='linenumber'> 26</span> 		</span><span class="REGX">/\{\+\s*([\s\S]+?)\s*\+\}/gi</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 27</span> 		</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">match</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">code</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 28</span> 			</span><span class="NAME">code</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">code.replace</span><span class="PUNC">(</span><span class="REGX">/"/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"``"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">// prevent qoute-escaping of inline code</span><span class="WHIT">
<span class='linenumber'> 29</span> 			</span><span class="NAME">code</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">code.replace</span><span class="PUNC">(</span><span class="REGX">/(\r?\n)/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">" "</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 30</span> 			</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="STRN">"``+"</span><span class="PUNC">+</span><span class="NAME">code</span><span class="PUNC">+</span><span class="STRN">"+``"</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 31</span> 		</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 32</span> 	</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 33</span> 	</span><span class="NAME">this.code</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.code.replace</span><span class="PUNC">(</span><span class="WHIT">
<span class='linenumber'> 34</span> 		</span><span class="REGX">/\{!\s*([\s\S]+?)\s*!\}/gi</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 35</span> 		</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">match</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">code</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 36</span> 			</span><span class="NAME">code</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">code.replace</span><span class="PUNC">(</span><span class="REGX">/"/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"``"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">// prevent qoute-escaping of inline code</span><span class="WHIT">
<span class='linenumber'> 37</span> 			</span><span class="NAME">code</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">code.replace</span><span class="PUNC">(</span><span class="REGX">/(\n)/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">" "</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 38</span> 			</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="STRN">"``; "</span><span class="PUNC">+</span><span class="NAME">code</span><span class="PUNC">+</span><span class="STRN">";\routput+=``"</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 39</span> 		</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 40</span> 	</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 41</span> 	</span><span class="NAME">this.code</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.code</span><span class="PUNC">+</span><span class="STRN">"``;"</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 42</span> 
<span class='linenumber'> 43</span> 	</span><span class="NAME">this.code</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.code.replace</span><span class="PUNC">(</span><span class="REGX">/(\r?\n)/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"\\n"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 44</span> 	</span><span class="NAME">this.code</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.code.replace</span><span class="PUNC">(</span><span class="REGX">/"/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"\\\""</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 45</span> 	</span><span class="NAME">this.code</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.code.replace</span><span class="PUNC">(</span><span class="REGX">/``/g</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"\""</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 46</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 47</span> 
<span class='linenumber'> 48</span> </span><span class="NAME">JSDOC.JsPlate.prototype.toCode</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 49</span> 	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.code</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 50</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 51</span> 
<span class='linenumber'> 52</span> </span><span class="NAME">JSDOC.JsPlate.keys</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 53</span> 	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">keys</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 54</span> 	</span><span class="COMM">// TODO: Confirm that arrays are not treated as objects</span><span class="WHIT">
<span class='linenumber'> 55</span> 	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj.constructor.toString</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">indexOf</span><span class="PUNC">(</span><span class="STRN">"Array"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">></span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 56</span> 		</span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">obj.length</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 57</span> 			</span><span class="NAME">keys.push</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 58</span> 		</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 59</span> 	</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 60</span> 	</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 61</span> 		</span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 62</span> 			</span><span class="NAME">keys.push</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 63</span> 		</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 64</span> 	</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 65</span> 	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">keys</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 66</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 67</span> 
<span class='linenumber'> 68</span> </span><span class="NAME">JSDOC.JsPlate.values</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 69</span> 	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">values</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 70</span> 	</span><span class="COMM">// TODO: Confirm that arrays are not treated as objects</span><span class="WHIT">
<span class='linenumber'> 71</span> 	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">obj.constructor.toString</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">indexOf</span><span class="PUNC">(</span><span class="STRN">"Array"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">></span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 72</span> 		</span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">obj.length</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 73</span> 			</span><span class="NAME">values.push</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 74</span> 		</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 75</span> 	</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 76</span> 	</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 77</span> 		</span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 78</span> 			</span><span class="NAME">values.push</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 79</span> 		</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 80</span> 	</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 81</span> 	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">values</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 82</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 83</span> 
<span class='linenumber'> 84</span> </span><span class="NAME">JSDOC.JsPlate.prototype.process</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">data</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 85</span> 	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">keys</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">JSDOC.JsPlate.keys</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 86</span> 	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">values</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">JSDOC.JsPlate.values</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 87</span> 	
<span class='linenumber'> 88</span> 	</span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 89</span> 		</span><span class="NAME">eval</span><span class="PUNC">(</span><span class="NAME">this.code</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 90</span> 	</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 91</span> 	</span><span class="KEYW">catch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 92</span> 		</span><span class="NAME">print</span><span class="PUNC">(</span><span class="STRN">">> There was an error evaluating the compiled code from template: "</span><span class="PUNC">+</span><span class="NAME">this.templateFile</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 93</span> 		</span><span class="NAME">print</span><span class="PUNC">(</span><span class="STRN">"   The error was on line "</span><span class="PUNC">+</span><span class="NAME">e.lineNumber</span><span class="PUNC">+</span><span class="STRN">" "</span><span class="PUNC">+</span><span class="NAME">e.name</span><span class="PUNC">+</span><span class="STRN">": "</span><span class="PUNC">+</span><span class="NAME">e.message</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 94</span> 		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">lines</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.code.split</span><span class="PUNC">(</span><span class="STRN">"\r"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 95</span> 		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">e.lineNumber</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="WHIT"> </span><span class="PUNC">>=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">print</span><span class="PUNC">(</span><span class="STRN">"line "</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">e.lineNumber</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="STRN">": "</span><span class="PUNC">+</span><span class="NAME">lines</span><span class="PUNC">[</span><span class="NAME">e.lineNumber</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 96</span> 		</span><span class="NAME">print</span><span class="PUNC">(</span><span class="STRN">"line "</span><span class="PUNC">+</span><span class="NAME">e.lineNumber</span><span class="PUNC">+</span><span class="STRN">": "</span><span class="PUNC">+</span><span class="NAME">lines</span><span class="PUNC">[</span><span class="NAME">e.lineNumber</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 97</span> 		</span><span class="NAME">print</span><span class="PUNC">(</span><span class="STRN">""</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 98</span> 	</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 99</span> 	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">output</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>100</span> 	</span><span class="COMM">//print(this.code);</span><span class="WHIT">
<span class='linenumber'>101</span> </span><span class="PUNC">}</span></pre></body></html>